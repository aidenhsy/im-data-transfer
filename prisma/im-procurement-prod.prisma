generator client {
  provider = "prisma-client-js"
  output   = "./clients/im-procurement-prod"
}

datasource db {
  provider = "postgresql"
  url      = env("IM_PROCUREMENT_PROD_URL")
}

model big_org {
  id             Int              @id @default(autoincrement())
  name           String?          @db.VarChar
  access_id      String?          @db.VarChar
  access_secret  String?          @db.VarChar
  scm_shop       scm_shop[]
  scm_shop_brand scm_shop_brand[]
  supplier       supplier[]
}

model cities {
  id             Int              @id
  name           String?          @unique(map: "unique_city_name") @db.VarChar
  scm_shop       scm_shop[]
  supplier_items supplier_items[]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model client_tier {
  id         Int        @id @default(autoincrement())
  tier_name  String?    @db.VarChar(50)
  created_at DateTime?  @default(now()) @db.Timestamp(6)
  scm_shop   scm_shop[]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model generic_items {
  id                        Int                         @id(map: "scm_goods_pkey") @default(autoincrement())
  name                      String                      @db.VarChar(60)
  category_id               Int
  status                    Int                         @default(1) @db.SmallInt
  create_time               DateTime?                   @default(now()) @db.Timestamp(6)
  update_time               DateTime?                   @default(now()) @db.Timestamp(6)
  letter_name               String?                     @db.VarChar
  photo_url                 String?                     @db.VarChar
  base_unit_id              Int?
  scm_goods_category        scm_goods_category          @relation(fields: [category_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_goods_category0")
  standard_units            standard_units?             @relation(fields: [base_unit_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  shop_specialty_plan_items shop_specialty_plan_items[]
  supplier_order_details    supplier_order_details[]
  supply_plan_items         supply_plan_items[]
}

model outbox_events {
  id             String    @id @default(dbgenerated("(uuid_generate_v4())::character varying")) @db.VarChar
  aggregate_type String    @db.VarChar(255)
  aggregate_id   String    @db.VarChar(255)
  event_type     String    @db.VarChar(255)
  payload        Json
  created_at     DateTime  @default(now()) @db.Timestamp(6)
  processed_at   DateTime? @db.Timestamp(6)
  published_at   DateTime? @db.Timestamp(6)
  retry_count    Int       @default(0)
}

model plan_item_supplier_good {
  id                String             @id @default(dbgenerated("(uuid_generate_v4())::character varying")) @db.VarChar
  plan_item_id      String?            @db.VarChar
  supplier_item_id  String?            @db.VarChar
  shop_id           Int?
  supply_plan_items supply_plan_items? @relation(fields: [plan_item_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  scm_shop          scm_shop?          @relation(fields: [shop_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  supplier_items    supplier_items?    @relation(fields: [supplier_item_id], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([plan_item_id, shop_id], map: "unique_plan_item_shop")
  @@unique([plan_item_id, supplier_item_id, shop_id], map: "unique_plan_item_supplier_shop")
  @@unique([shop_id, supplier_item_id], map: "unique_shop_supplier_item")
  @@index([plan_item_id, shop_id], map: "idx_pisg_plan_shop")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model scm_goods_category {
  id            Int             @id @default(autoincrement())
  parent_id     Int             @default(0)
  name          String          @db.VarChar(16)
  phonetic      String          @db.VarChar(8)
  storage_id    Int?
  sort          Int             @default(0) @db.SmallInt
  status        Int             @default(1) @db.SmallInt
  level         Int?            @db.SmallInt
  serial_num    String?         @unique @db.VarChar
  generic_items generic_items[]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model scm_shop {
  shop_name                              String                                   @db.VarChar(60)
  serial_num                             String?                                  @db.VarChar(60)
  address                                String?                                  @db.VarChar(200)
  longitude                              String?                                  @db.VarChar(60)
  latitude                               String?                                  @db.VarChar(60)
  create_time                            DateTime?                                @db.Timestamp(6)
  brand_id                               Int                                      @db.SmallInt
  status                                 Int                                      @default(1) @db.SmallInt
  id                                     Int                                      @id @default(autoincrement())
  serial_num2                            String?                                  @db.VarChar
  business_id                            Int?
  field                                  Int?                                     @default(0) @db.SmallInt
  field_order                            Int?                                     @default(0) @db.SmallInt
  is_join                                Int?                                     @default(0) @db.SmallInt
  tc_shop_id                             Int?                                     @default(0)
  city_id                                Int?
  model_url                              String?                                  @db.VarChar
  automatic_receiving                    Int                                      @default(1) @db.SmallInt
  is_enabled                             Boolean?                                 @default(true)
  big_org_id                             Int?
  shop_pic_url                           String?                                  @db.VarChar
  client_tier_id                         Int?
  open_hours                             Json?
  plan_item_supplier_good                plan_item_supplier_good[]
  scm_shop_brand                         scm_shop_brand                           @relation(fields: [brand_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_brand_id38")
  big_org                                big_org?                                 @relation(fields: [big_org_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  cities                                 cities?                                  @relation(fields: [city_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "scm_shop_city_id_fkey71")
  client_tier                            client_tier?                             @relation(fields: [client_tier_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  shop_specialty_plan_item_supplier_good shop_specialty_plan_item_supplier_good[]
  shop_specialty_plan_items              shop_specialty_plan_items[]
  supplier_order_returns                 supplier_order_returns[]
  supplier_orders                        supplier_orders[]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model scm_shop_brand {
  id                                                       Int               @id @default(autoincrement())
  brand_name                                               String            @db.VarChar(60)
  create_time                                              DateTime?         @default(now()) @db.Timestamp(6)
  tcsl_id                                                  String?           @default(dbgenerated("(uuid_generate_v4())::character varying")) @db.VarChar
  big_org_id                                               Int?              @default(3)
  is_enabled                                               Boolean?          @default(false)
  supply_plan_id                                           Int?
  scm_shop                                                 scm_shop[]
  big_org                                                  big_org?          @relation(fields: [big_org_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "scm_shop_brand_big_org_id_fkey80")
  scm_supply_plan                                          scm_supply_plan?  @relation(fields: [supply_plan_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  scm_supply_plan_scm_supply_plan_brand_idToscm_shop_brand scm_supply_plan[] @relation("scm_supply_plan_brand_idToscm_shop_brand")

  @@index([tcsl_id], map: "idx_sc_shop_brand_tcsl_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model scm_supply_plan {
  id                                                      Int                 @id @default(autoincrement())
  name                                                    String?             @db.VarChar(60)
  serial_num                                              String?             @unique @db.VarChar
  organization_id                                         Int?
  brand_id                                                Int?
  scm_shop_brand                                          scm_shop_brand[]
  scm_shop_brand_scm_supply_plan_brand_idToscm_shop_brand scm_shop_brand?     @relation("scm_supply_plan_brand_idToscm_shop_brand", fields: [brand_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  supply_plan_items                                       supply_plan_items[]
}

model standard_units {
  id                   Int              @id @default(autoincrement())
  name                 String?          @db.VarChar(50)
  base_unit_id         Int?
  conversion_factor    Decimal?         @db.Decimal(12, 5)
  generic_items        generic_items[]
  standard_units       standard_units?  @relation("standard_unitsTostandard_units", fields: [base_unit_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  other_standard_units standard_units[] @relation("standard_unitsTostandard_units")
  supplier_items       supplier_items[]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model stock_category {
  id                        Int                         @id @default(autoincrement())
  name                      String?                     @db.VarChar(50)
  shop_specialty_plan_items shop_specialty_plan_items[]
  supplier_order_details    supplier_order_details[]
  supply_plan_items         supply_plan_items[]
}

model submit_cart_attempts {
  id              String          @id @default(dbgenerated("(uuid_generate_v4())::character varying")) @db.VarChar
  shop_id         Int?
  type            String?         @db.VarChar
  items_num       Int?
  is_successful   Boolean?        @default(false)
  created_at      DateTime?       @default(now()) @db.Timestamp(6)
  updated_at      DateTime?       @default(now()) @db.Timestamp(6)
  last_error      String?
  order_id        String          @db.VarChar
  supplier_orders supplier_orders @relation(fields: [order_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model supplier {
  id                     Int                      @id @default(autoincrement())
  supplier_name          String                   @db.VarChar(100)
  phone_number           String                   @db.VarChar(20)
  serial_num             String?                  @db.VarChar(100)
  settlement             Int?
  push_order             Int?
  is_first               Int?
  mail                   String?                  @db.VarChar(100)
  supplier_key           String?                  @db.VarChar(100)
  supplier_goods_url     String?                  @db.VarChar(100)
  brand_id               Int?
  brand_name             String?                  @db.VarChar
  organization_id        Int?
  organization_name      String?                  @db.VarChar
  delflg                 Int?
  create_dept_id         Int?
  create_dept_name       String?                  @db.VarChar
  create_time            DateTime?                @db.Timestamp(6)
  create_id              String?                  @db.Uuid
  modify_time            DateTime?                @db.Timestamp(6)
  modify_id              String?                  @db.Uuid
  refresh_items_url      String?                  @db.VarChar
  get_items_url          String?                  @db.VarChar
  place_order_url        String?                  @db.VarChar
  auth_url               String?                  @db.VarChar
  access_id              String?                  @db.VarChar
  access_secret          String?                  @db.VarChar
  big_org_id             Int?
  callback_url           String?                  @db.VarChar
  base_url               String?                  @db.VarChar
  supplier_type_id       String?                  @db.VarChar
  big_org                big_org?                 @relation(fields: [big_org_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  supplier_type          supplier_type?           @relation(fields: [supplier_type_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  supplier_items         supplier_items[]
  supplier_order_returns supplier_order_returns[]
  supplier_orders        supplier_orders[]
  supplier_pull_records  supplier_pull_records[]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model supplier_items {
  id                                     String                                   @id @default(dbgenerated("(uuid_generate_v4())::character varying")) @db.VarChar
  name                                   String                                   @db.VarChar(60)
  status                                 Int                                      @default(1) @db.SmallInt
  create_time                            DateTime?                                @default(now()) @db.Timestamp(6)
  update_time                            DateTime?                                @default(now()) @db.Timestamp(6)
  letter_name                            String?                                  @db.VarChar
  supplier_id                            Int?
  photo_url                              String?                                  @db.VarChar
  price                                  Decimal?                                 @db.Decimal(12, 6)
  supplier_reference_id                  String?                                  @unique(map: "unique_supplier_reference_id") @db.VarChar
  cut_off_time                           String?                                  @db.VarChar
  package_unit_to_base_ratio             Int?
  package_unit_name                      String?                                  @db.VarChar(50)
  base_unit_id                           Int?
  city_id                                Int?
  weighing                               Int?
  tier_id                                Int
  category_name                          String?                                  @db.VarChar(50)
  supplier_item_category_id              Int?
  supplier_item_id                       Int?
  plan_item_supplier_good                plan_item_supplier_good[]
  shop_specialty_plan_item_supplier_good shop_specialty_plan_item_supplier_good[]
  supplier                               supplier?                                @relation(fields: [supplier_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_supplier_items_supplier")
  standard_units                         standard_units?                          @relation(fields: [base_unit_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  cities                                 cities?                                  @relation(fields: [city_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  supplier_order_details                 supplier_order_details[]
  supplier_order_return_details          supplier_order_return_details[]
}

model supplier_order_details {
  id                            String                         @id @default(dbgenerated("(uuid_generate_v4())::character varying")) @db.VarChar
  item_id                       Int
  price                         Decimal                        @db.Decimal(12, 2)
  order_qty                     Decimal                        @db.Decimal(12, 4)
  actual_delivery_qty           Decimal?                       @db.Decimal(12, 4)
  supplier_reference_id         String                         @db.VarChar
  cut_off_time                  String?                        @db.VarChar
  package_unit_name             String                         @db.VarChar
  package_unit_to_base_ratio    Int
  order_id                      String                         @db.VarChar
  updated_at                    DateTime?                      @default(dbgenerated("(now() AT TIME ZONE 'Asia/Shanghai'::text)")) @db.Timestamp(6)
  created_at                    DateTime?                      @default(dbgenerated("(now() AT TIME ZONE 'Asia/Shanghai'::text)")) @db.Timestamp(6)
  supplier_item_name            String                         @db.VarChar
  supplier_item_photo           String                         @db.VarChar
  confirm_delivery_qty          Decimal?                       @db.Decimal(12, 4)
  final_qty                     Decimal?                       @db.Decimal(12, 4)
  supplier_item_id              String?                        @db.VarChar
  is_locked                     Boolean                        @default(false)
  total_order_amount            Decimal?                       @default(dbgenerated("round((order_qty * price), 2)")) @db.Decimal(12, 2)
  total_final_amount            Decimal?                       @default(dbgenerated("round((final_qty * price), 2)")) @db.Decimal(12, 2)
  stock_category_id             Int?
  total_delivery_amount         Decimal?                       @default(dbgenerated("round((actual_delivery_qty * price), 2)")) @db.Decimal(12, 2)
  generic_items                 generic_items                  @relation(fields: [item_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  supplier_orders               supplier_orders                @relation(fields: [order_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  stock_category                stock_category?                @relation(fields: [stock_category_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  supplier_items                supplier_items?                @relation(fields: [supplier_item_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  supplier_order_return_details supplier_order_return_details?

  @@unique([supplier_reference_id, order_id], map: "unique_reference_order")
}

model supplier_orders {
  id                            String                          @id @default(dbgenerated("(uuid_generate_v4())::character varying")) @db.VarChar
  shop_id                       Int
  supplier_id                   Int?
  irregular_items               Int?                            @default(0)
  status                        Int                             @default(0)
  order_date                    String                          @db.VarChar(50)
  delivery_date                 String                          @db.VarChar(50)
  type                          Int
  created_at                    DateTime                        @default(dbgenerated("(now() AT TIME ZONE 'Asia/Shanghai'::text)")) @db.Timestamp(6)
  updated_at                    DateTime?                       @default(dbgenerated("(now() AT TIME ZONE 'Asia/Shanghai'::text)")) @db.Timestamp(6)
  delivery_time                 DateTime?                       @db.Timestamp(6)
  supplier_note                 String?
  order_amount                  Decimal?                        @db.Decimal(12, 4)
  actual_amount                 Decimal?                        @db.Decimal(12, 4)
  receive_time                  DateTime?                       @db.Timestamp(6)
  sent_time                     DateTime?                       @db.Timestamp(6)
  estimated_delivery_time       DateTime?                       @db.Timestamp(6)
  submit_cart_attempts          submit_cart_attempts[]
  supplier_order_details        supplier_order_details[]
  supplier_order_returns        supplier_order_returns[]
  supplier_order_status_history supplier_order_status_history[]
  scm_shop                      scm_shop                        @relation(fields: [shop_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_supplier_orders_shop")
  supplier                      supplier?                       @relation(fields: [supplier_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model supplier_pull_records {
  id            String    @id @default(dbgenerated("(uuid_generate_v4())::character varying")) @db.VarChar
  pull_version  String?   @db.VarChar
  is_successful Boolean?
  supplier_id   Int?
  created_at    DateTime? @default(now()) @db.Timestamp(6)
  supplier      supplier? @relation(fields: [supplier_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model supply_plan_items {
  id                      String                    @id @default(dbgenerated("(uuid_generate_v4())::character varying")) @db.VarChar
  supply_plan_id          Int?
  item_id                 Int?
  stock_category_id       Int?
  plan_item_supplier_good plan_item_supplier_good[]
  generic_items           generic_items?            @relation(fields: [item_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  stock_category          stock_category?           @relation(fields: [stock_category_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "supply_plan_items_stock_category_fk")
  scm_supply_plan         scm_supply_plan?          @relation(fields: [supply_plan_id], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([supply_plan_id, item_id], map: "unique_supply_plan_item")
}

model supplier_order_status_history {
  id              String          @id @default(dbgenerated("(uuid_generate_v4())::character varying")) @db.VarChar
  order_id        String          @db.VarChar
  status          Int
  try_count       Int             @default(0)
  notified_at     DateTime?       @db.Timestamp(6)
  created_at      DateTime        @default(dbgenerated("(now() AT TIME ZONE 'Asia/Shanghai'::text)")) @db.Timestamp(6)
  supplier_orders supplier_orders @relation(fields: [order_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model shop_specialty_plan_item_supplier_good {
  id                        String                     @id @default(dbgenerated("(uuid_generate_v4())::character varying")) @db.VarChar(50)
  plan_item_id              String?                    @db.VarChar(50)
  supplier_item_id          String?                    @db.VarChar(50)
  shop_id                   Int?
  shop_specialty_plan_items shop_specialty_plan_items? @relation(fields: [plan_item_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "shop_spec_plan_item_supplier_good_plan_item_id_fkey")
  scm_shop                  scm_shop?                  @relation(fields: [shop_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "shop_spec_plan_item_supplier_good_shop_id_fkey")
  supplier_items            supplier_items?            @relation(fields: [supplier_item_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "shop_spec_plan_item_supplier_good_supplier_item_id_fkey")

  @@unique([plan_item_id, shop_id], map: "shop_spec_unique_plan_item_shop")
  @@unique([plan_item_id, supplier_item_id, shop_id], map: "shop_spec_unique_plan_item_supplier_shop")
  @@unique([shop_id, supplier_item_id], map: "shop_spec_unique_shop_supplier_item")
  @@index([plan_item_id, shop_id], map: "idx_pisg_shop_spec_plan_shop")
}

model shop_specialty_plan_items {
  id                                     String                                   @id @default(dbgenerated("(uuid_generate_v4())::character varying")) @db.VarChar
  shop_id                                Int?
  item_id                                Int?
  stock_category_id                      Int?
  shop_specialty_plan_item_supplier_good shop_specialty_plan_item_supplier_good[]
  generic_items                          generic_items?                           @relation(fields: [item_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  scm_shop                               scm_shop?                                @relation(fields: [shop_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  stock_category                         stock_category?                          @relation(fields: [stock_category_id], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([shop_id, item_id], map: "shop_specialty_plan_items_unique")
}

model supplier_order_return_details {
  id                                       String                                    @id @default(dbgenerated("(uuid_generate_v4())::character varying")) @db.VarChar
  return_id                                String                                    @db.VarChar
  supplier_item_id                         String                                    @db.VarChar
  source_detail_id                         String                                    @unique(map: "supplier_order_return_details_source_detail_id_uk") @db.VarChar
  qty_returned                             Decimal                                   @db.Decimal(12, 4)
  unit_price                               Decimal                                   @db.Decimal(12, 2)
  total_value                              Decimal?                                  @default(dbgenerated("(qty_returned * unit_price)")) @db.Decimal(12, 2)
  created_at                               DateTime                                  @default(dbgenerated("(now() AT TIME ZONE 'Asia/Shanghai'::text)")) @db.Timestamp(6)
  updated_at                               DateTime                                  @default(dbgenerated("(now() AT TIME ZONE 'Asia/Shanghai'::text)")) @db.Timestamp(6)
  status                                   Int?                                      @default(0) @db.SmallInt
  return_reason_id                         Int
  supplier_order_returns                   supplier_order_returns                    @relation(fields: [return_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  supplier_order_details                   supplier_order_details                    @relation(fields: [source_detail_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  supplier_items                           supplier_items                            @relation(fields: [supplier_item_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  supplier_order_return_reasons            supplier_order_return_reasons             @relation(fields: [return_reason_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "supplier_order_return_details_supplier_order_return_reasons_fk")
  supplier_order_return_details_extends    supplier_order_return_details_extends?
  supplier_order_return_details_temp_order supplier_order_return_details_temp_order?
  supplier_order_return_files              supplier_order_return_files[]
}

model supplier_order_return_reasons {
  id                            Int                             @id
  name                          String?                         @db.VarChar
  supplier_order_return_details supplier_order_return_details[]
  supplier_order_returns        supplier_order_returns[]
}

model supplier_order_returns {
  id                            String                          @id @default(dbgenerated("(uuid_generate_v4())::character varying")) @db.VarChar
  supplier_id                   Int
  shop_id                       Int
  original_order_id             String                          @db.VarChar
  status                        Int                             @default(0)
  note                          String?
  created_at                    DateTime                        @default(dbgenerated("(now() AT TIME ZONE 'Asia/Shanghai'::text)")) @db.Timestamp(6)
  updated_at                    DateTime                        @default(dbgenerated("(now() AT TIME ZONE 'Asia/Shanghai'::text)")) @db.Timestamp(6)
  return_reason_id              Int
  return_type_id                Int?
  supplier_order_return_details supplier_order_return_details[]
  supplier_order_return_files   supplier_order_return_files[]
  supplier_orders               supplier_orders                 @relation(fields: [original_order_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  supplier_order_return_reasons supplier_order_return_reasons   @relation(fields: [return_reason_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  scm_shop                      scm_shop                        @relation(fields: [shop_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  supplier                      supplier                        @relation(fields: [supplier_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  supplier_order_return_type    supplier_order_return_type?     @relation(fields: [return_type_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "supplier_order_returns_supplier_order_return_type_fk")
}

model supplier_item_categories {
  id                     Int       @id
  name                   String    @db.VarChar
  supplier_category_code Int?
  status                 Int
  created_at             DateTime? @default(dbgenerated("(now() AT TIME ZONE 'Asia/Shanghai'::text)")) @db.Timestamp(6)
  updated_at             DateTime? @default(dbgenerated("(now() AT TIME ZONE 'Asia/Shanghai'::text)")) @db.Timestamp(6)
}

model supplier_item_units {
  id               String   @id @db.VarChar
  supplier_item_id String   @db.VarChar
  name             String   @db.VarChar
  ratio_to_base    Decimal  @db.Decimal(12, 4)
  created_at       DateTime @default(dbgenerated("(now() AT TIME ZONE 'Asia/Shanghai'::text)")) @db.Timestamp(6)
  updated_at       DateTime @default(dbgenerated("(now() AT TIME ZONE 'Asia/Shanghai'::text)")) @db.Timestamp(6)
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model supplier_order_return_details_temp_order {
  id                            String                        @id(map: "supplier_order_return_details_extends_pk") @default(dbgenerated("(uuid_generate_v4())::character varying")) @db.VarChar(50)
  detail_id                     String                        @unique(map: "supplier_order_return_details_extends_unique") @db.VarChar(50)
  temp_order_status             Int                           @default(0)
  temp_order_id                 String?                       @db.VarChar(50)
  created_at                    DateTime?                     @default(dbgenerated("(now() AT TIME ZONE 'Asia/Shanghai'::text)")) @db.Timestamp(6)
  updated_at                    DateTime?                     @default(dbgenerated("(now() AT TIME ZONE 'Asia/Shanghai'::text)")) @db.Timestamp(6)
  times                         Int                           @default(0)
  remark                        String?                       @db.VarChar(2000)
  supplier_order_return_details supplier_order_return_details @relation(fields: [detail_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "supplier_order_return_details_extends_supplier_order_return_det")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model supplier_order_return_files {
  id                            String                        @id @default(dbgenerated("(uuid_generate_v4())::character varying")) @db.VarChar(50)
  return_order_id               String                        @db.VarChar(50)
  file_name                     String?                       @db.VarChar(100)
  file_url                      String?                       @db.VarChar(500)
  creator                       String?                       @db.VarChar(100)
  create_at                     DateTime?                     @db.Timestamp(6)
  file_ext                      String?                       @db.VarChar(10)
  return_detail_id              String                        @db.VarChar(50)
  supplier_order_returns        supplier_order_returns        @relation(fields: [return_order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "supplier_order_return_files_fk")
  supplier_order_return_details supplier_order_return_details @relation(fields: [return_detail_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "supplier_order_return_files_supplier_order_return_details_fk")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model supplier_order_return_type {
  id                     Int                      @id
  name                   String                   @db.VarChar(10)
  create_at              DateTime?                @default(now()) @db.Timestamp(6)
  update_at              DateTime?                @default(now()) @db.Timestamp(6)
  order_num              Int
  supplier_order_returns supplier_order_returns[]
}

model supplier_type {
  id                 String     @id @default(dbgenerated("(uuid_generate_v4())::character varying")) @db.VarChar
  name               String?    @db.VarChar
  supplier_type_code Int        @default(autoincrement())
  created_at         DateTime?  @default(dbgenerated("(now() AT TIME ZONE 'Asia/Shanghai'::text)")) @db.Timestamp(6)
  updated_at         DateTime?  @default(dbgenerated("(now() AT TIME ZONE 'Asia/Shanghai'::text)")) @db.Timestamp(6)
  supplier           supplier[]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model supplier_order_return_details_extends {
  id                            String                        @id @default(dbgenerated("(uuid_generate_v4())::character varying")) @db.VarChar
  return_detail_id              String                        @unique(map: "supplier_order_return_details_extends_return_id_uk") @db.VarChar
  delivery_user                 String?                       @db.VarChar(50)
  delivery_at                   DateTime?                     @db.Timestamp(6)
  supplier_confirm_at           DateTime?                     @db.Timestamp(6)
  supplier_return_at            DateTime?                     @db.Timestamp(6)
  created_at                    DateTime                      @default(dbgenerated("(now() AT TIME ZONE 'Asia/Shanghai'::text)")) @db.Timestamp(6)
  updated_at                    DateTime                      @default(dbgenerated("(now() AT TIME ZONE 'Asia/Shanghai'::text)")) @db.Timestamp(6)
  supplier_order_return_details supplier_order_return_details @relation(fields: [return_detail_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "supplier_order_return_details_extends_return_id_fkey")
}

enum pricing_strategy_type {
  cost
  margin
  custom
}
